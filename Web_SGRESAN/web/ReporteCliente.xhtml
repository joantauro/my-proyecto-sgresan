<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./vista/Plantilla_main_1.xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="titulo">
        Reporte de Clientes
    </ui:define>
    <ui:define name="top">
    </ui:define>
    <ui:define name="content" class="conten" >
        <h:form>
            <p:dataTable id="reporte" var="a" value="#{reservaDetalleBean.listareservas}" widgetVar="tablaInformes" 
                         tableStyle="center" style = "width:auto"
                         paginator="true" rows="5" paginatorPosition="bottom"                     
                         paginatorTemplate="{RowsPerPageDropdown} {CurrentPageReport} {FirstPageLink} {PreviousPageLink} 
                         {CurrentPageReport} {NextPageLink} {LastPageLink} "                                          
                         rowsPerPageTemplate="5,10,20,30,40" 
                         emptyMessage="No se encuentra al cliente">

                <f:facet name="header">
                    <h:outputText value="Reportes" style="margin-left:  100px"/>  
                    <h:commandLink>
                        <p:graphicImage id="pdf" value= "/resources/img/pd.png"  width="24px" style="margin-left: auto" />
                        <p:dataExporter type="pdf" target="reporte" fileName="Reportes"  pageOnly="true" />
                    </h:commandLink>
                </f:facet>

                <p:column style="width:16px">
                    <p:rowToggler/>
                </p:column>

                <p:column filterBy="#{a.TReserva.TCliente.idCliente}" filterMatchMode="contains">
                    <f:facet name="header">  
                        <h:outputText value="Codigo" />  
                    </f:facet>
                    <h:outputText value="#{a.TReserva.TCliente.idCliente}" style=" text-align: center"/>
                </p:column>
                
                <p:column filterBy="#{a.TReserva.TCliente.TPersona.dni}" filterMatchMode="contains">
                    <f:facet name="header">  
                        <h:outputText value="DNI" />  
                    </f:facet>
                    <h:outputText value="#{a.TReserva.TCliente.TPersona.dni}" style=" text-align: center"/>
                </p:column>

                <p:column filterBy="#{a.TReserva.TCliente.TPersona.nombres}" filterMatchMode="contains">
                    <f:facet name="header">  
                        <h:outputText value="Cliente" />  
                    </f:facet> 
                    <h:outputText value="#{a.TReserva.TCliente.TPersona.nombres}" />
                </p:column> 

                <p:column headerText="Apellido Paterno" style=" text-align: center">  
                    <h:outputText value="#{a.TReserva.TCliente.TPersona.apellidoP}" />  
                </p:column>
                
                <p:column headerText="Celular" style=" text-align: center">  
                    <h:outputText value="#{a.TReserva.TCliente.TPersona.celular}" />  
                </p:column>
                
                <p:column headerText="Fecha Registro" style=" text-align: center">  
                    <h:outputText value="#{a.TReserva.fechaRegistro}" />  
                </p:column>

                <p:column headerText="descripcion"   style=" text-align: center">
                    <h:outputText value="#{a.TReserva.descripcion}" />
                </p:column>  

                <p:column headerText="modalidad de pago"  style=" text-align: center">
                    <h:outputText value="#{a.TReserva.modalidadPago}" />
                </p:column>     

            
  
            </p:dataTable>
        </h:form>
    </ui:define>
</ui:composition>

